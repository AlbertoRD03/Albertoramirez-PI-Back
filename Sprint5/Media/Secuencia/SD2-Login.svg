<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="904px" preserveAspectRatio="none" style="width:1026px;height:904px;background:#FAFAFA;" version="1.1" viewBox="0 0 1026 904" width="1026px" zoomAndPan="magnify"><title>SD2 - Login</title><defs/><g><rect fill="#FAFAFA" height="904" style="stroke:none;stroke-width:1;" width="1026" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="90.3301" x="465.8645" y="27.9951">SD2 - Login</text><rect fill="none" height="454.1406" style="stroke:#000000;stroke-width:1.5;" width="996.0239" x="10" y="352.5234"/><rect fill="none" height="307.8047" style="stroke:#000000;stroke-width:1.5;" width="976.0239" x="20" y="491.8594"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="395.0474" x="30" y="702.4609"/><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="705.0703" width="8" x="65.6021" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="69" x2="69" y1="118.5938" y2="823.6641"/></g><g><title>Frontend .React.</title><rect fill="#000000" fill-opacity="0.00000" height="705.0703" width="8" x="344.7524" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="348.4575" x2="348.4575" y1="118.5938" y2="823.6641"/></g><g><title>Backend API .Node.Express.</title><rect fill="#000000" fill-opacity="0.00000" height="705.0703" width="8" x="639.6704" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="643.3887" x2="643.3887" y1="118.5938" y2="823.6641"/></g><g><title>MySQL</title><rect fill="#000000" fill-opacity="0.00000" height="705.0703" width="8" x="987.0239" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="990.9888" x2="990.9888" y1="118.5938" y2="823.6641"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="40" y="115.292">Usuario</text><ellipse cx="69.6021" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69.6021,58.7969 L69.6021,85.7969 M56.6021,66.7969 L82.6021,66.7969 M69.6021,85.7969 L56.6021,100.7969 M69.6021,85.7969 L82.6021,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="40" y="835.6592">Usuario</text><ellipse cx="69.6021" cy="847.4609" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M69.6021,855.4609 L69.6021,882.4609 M56.6021,863.4609 L82.6021,863.4609 M69.6021,882.4609 L56.6021,897.4609 M69.6021,882.4609 L82.6021,897.4609" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="282.4575" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="289.4575" y="107.292">Frontend (React)</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="282.4575" y="822.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="289.4575" y="842.6592">Frontend (React)</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="537.3887" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="544.3887" y="107.292">Backend API (Node/Express)</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="537.3887" y="822.6641"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="544.3887" y="842.6592">Backend API (Node/Express)</text></g><g class="participant participant-head" data-participant="SQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.0703" x="963.9888" y="115.292">MySQL</text><path d="M973.0239,66.2969 C973.0239,56.2969 991.0239,56.2969 991.0239,56.2969 C991.0239,56.2969 1009.0239,56.2969 1009.0239,66.2969 L1009.0239,92.2969 C1009.0239,102.2969 991.0239,102.2969 991.0239,102.2969 C991.0239,102.2969 973.0239,102.2969 973.0239,92.2969 L973.0239,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M973.0239,66.2969 C973.0239,76.2969 991.0239,76.2969 991.0239,76.2969 C991.0239,76.2969 1009.0239,76.2969 1009.0239,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="SQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.0703" x="963.9888" y="835.6592">MySQL</text><path d="M973.0239,848.9609 C973.0239,838.9609 991.0239,838.9609 991.0239,838.9609 C991.0239,838.9609 1009.0239,838.9609 1009.0239,848.9609 L1009.0239,874.9609 C1009.0239,884.9609 991.0239,884.9609 991.0239,884.9609 C991.0239,884.9609 973.0239,884.9609 973.0239,874.9609 L973.0239,848.9609" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M973.0239,848.9609 C973.0239,858.9609 991.0239,858.9609 991.0239,858.9609 C991.0239,858.9609 1009.0239,858.9609 1009.0239,848.9609" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#FF7849" points="336.7524,145.7266,346.7524,149.7266,336.7524,153.7266,340.7524,149.7266" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="69.6021" x2="342.7524" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.5142" x="76.6021" y="144.6606">Abre pantalla de login</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="80.6021,174.8594,70.6021,178.8594,80.6021,182.8594,76.6021,178.8594" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="74.6021" x2="347.7524" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.1504" x="86.6021" y="173.7935">Muestra formulario (email, contrase&#241;a)</text></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#FF7849" points="336.7524,203.9922,346.7524,207.9922,336.7524,211.9922,340.7524,207.9922" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="69.6021" x2="342.7524" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.9448" x="76.6021" y="202.9263">Env&#237;a credenciales</text></g><g class="message" data-participant-1="FE" data-participant-2="FE"><line style="stroke:#FF7849;stroke-width:1;" x1="348.7524" x2="390.7524" y1="237.125" y2="237.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="390.7524" x2="390.7524" y1="237.125" y2="250.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="349.7524" x2="390.7524" y1="250.125" y2="250.125"/><polygon fill="#FF7849" points="359.7524,246.125,349.7524,250.125,359.7524,254.125,355.7524,250.125" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.5396" x="355.7524" y="232.0591">Validar formato en cliente</text></g><g class="message" data-participant-1="FE" data-participant-2="API"><polygon fill="#FF7849" points="631.6704,275.2578,641.6704,279.2578,631.6704,283.2578,635.6704,279.2578" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="348.7524" x2="637.6704" y1="279.2578" y2="279.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.1045" x="355.7524" y="274.1919">POST /auth/login {email, password}</text></g><g class="message" data-participant-1="API" data-participant-2="SQL"><polygon fill="#FF7849" points="979.0239,304.3906,989.0239,308.3906,979.0239,312.3906,983.0239,308.3906" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="643.6704" x2="985.0239" y1="308.3906" y2="308.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.2363" x="650.6704" y="303.3247">SELECT * FROM Usuarios WHERE email = ?</text></g><g class="message" data-participant-1="SQL" data-participant-2="API"><polygon fill="#FF7849" points="654.6704,333.5234,644.6704,337.5234,654.6704,341.5234,650.6704,337.5234" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="648.6704" x2="990.0239" y1="337.5234" y2="337.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.4678" x="660.6704" y="332.4575">Usuario (o null)</text></g><path d="M10,352.5234 L74.4429,352.5234 L74.4429,359.6563 L64.4429,369.6563 L10,369.6563 L10,352.5234" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="454.1406" style="stroke:#000000;stroke-width:1.5;" width="996.0239" x="10" y="352.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="365.5903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="118.1802" x="89.4429" y="364.7339">[Usuario no existe]</text><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="359.7524,386.7891,349.7524,390.7891,359.7524,394.7891,355.7524,390.7891" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="353.7524" x2="642.6704" y1="390.7891" y2="390.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="365.7524" y="385.7231">401 Unauthorized</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="80.6021,415.9219,70.6021,419.9219,80.6021,423.9219,76.6021,419.9219" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="74.6021" x2="347.7524" y1="419.9219" y2="419.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.5605" x="86.6021" y="414.856">Mostrar "Credenciales incorrectas"</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1006.0239" y1="428.9219" y2="428.9219"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="132.1074" x="15" y="439.1323">[Usuario encontrado]</text><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="643.6704" x2="685.6704" y1="463.8594" y2="463.8594"/><line style="stroke:#FF7849;stroke-width:1;" x1="685.6704" x2="685.6704" y1="463.8594" y2="476.8594"/><line style="stroke:#FF7849;stroke-width:1;" x1="644.6704" x2="685.6704" y1="476.8594" y2="476.8594"/><polygon fill="#FF7849" points="654.6704,472.8594,644.6704,476.8594,654.6704,480.8594,650.6704,476.8594" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249.5327" x="650.6704" y="458.7935">Comparar password con hash (bcrypt)</text></g><path d="M20,491.8594 L84.4429,491.8594 L84.4429,498.9922 L74.4429,508.9922 L20,508.9922 L20,491.8594" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="307.8047" style="stroke:#000000;stroke-width:1.5;" width="976.0239" x="20" y="491.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="504.9263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="147.9038" x="99.4429" y="504.0698">[Contrase&#241;a incorrecta]</text><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="359.7524,526.125,349.7524,530.125,359.7524,534.125,355.7524,530.125" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="353.7524" x2="642.6704" y1="530.125" y2="530.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.2256" x="365.7524" y="525.0591">401 Unauthorized</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="80.6021,555.2578,70.6021,559.2578,80.6021,563.2578,76.6021,559.2578" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="74.6021" x2="347.7524" y1="559.2578" y2="559.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226.5605" x="86.6021" y="554.1919">Mostrar "Credenciales incorrectas"</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="20" x2="996.0239" y1="568.2578" y2="568.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.3022" x="25" y="578.4683">[Contrase&#241;a correcta]</text><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="643.6704" x2="685.6704" y1="603.1953" y2="603.1953"/><line style="stroke:#FF7849;stroke-width:1;" x1="685.6704" x2="685.6704" y1="603.1953" y2="616.1953"/><line style="stroke:#FF7849;stroke-width:1;" x1="644.6704" x2="685.6704" y1="616.1953" y2="616.1953"/><polygon fill="#FF7849" points="654.6704,612.1953,644.6704,616.1953,654.6704,620.1953,650.6704,616.1953" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.3535" x="650.6704" y="598.1294">Generar JWT + comprobar onboarding_completado</text></g><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="359.7524,641.3281,349.7524,645.3281,359.7524,649.3281,355.7524,645.3281" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="353.7524" x2="642.6704" y1="645.3281" y2="645.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.918" x="365.7524" y="640.2622">200 OK {token, onboarding_completado}</text></g><g class="message" data-participant-1="FE" data-participant-2="FE"><line style="stroke:#FF7849;stroke-width:1;" x1="348.7524" x2="390.7524" y1="674.4609" y2="674.4609"/><line style="stroke:#FF7849;stroke-width:1;" x1="390.7524" x2="390.7524" y1="674.4609" y2="687.4609"/><line style="stroke:#FF7849;stroke-width:1;" x1="349.7524" x2="390.7524" y1="687.4609" y2="687.4609"/><polygon fill="#FF7849" points="359.7524,683.4609,349.7524,687.4609,359.7524,691.4609,355.7524,687.4609" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.8252" x="355.7524" y="669.395">Guardar token (p.ej. localStorage)</text></g><path d="M30,702.4609 L94.4429,702.4609 L94.4429,709.5938 L84.4429,719.5938 L30,719.5938 L30,702.4609" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="395.0474" x="30" y="702.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="45" y="715.5278">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="149.5151" x="109.4429" y="714.6714">[Onboarding pendiente]</text><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="80.6021,736.7266,70.6021,740.7266,80.6021,744.7266,76.6021,740.7266" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="74.6021" x2="347.7524" y1="740.7266" y2="740.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224.8594" x="86.6021" y="735.6606">Redirigir a pantalla de Onboarding</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="30" x2="425.0474" y1="749.7266" y2="749.7266"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="159.4517" x="35" y="759.937">[Onboarding completado]</text><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="80.6021,780.6641,70.6021,784.6641,80.6021,788.6641,76.6021,784.6641" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="74.6021" x2="347.7524" y1="784.6641" y2="784.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142.0479" x="86.6021" y="779.5981">Redirigir a Dashboard</text></g><!--SRC=[bLFRRXCn47tVhpWABmaqRQag0P40bNHJBYafIKCVqMHtafewzc8xjANg9_70D_J763j9cr0gnAvsLpi-S-RCyJYee1c3_HqqqRKJPRBCdobJaQCfHbISJPoTcR9jjNLuDAPuho0yVvknAHXN6R3dd3rV8iVFdk- -a61NZRch3B-nhcJtuEgzIkdAhhECYY21eP-HKnRaCSoaTb25giW4r3hEci2cHBtFWctK8gQJhuCYVyJi7Rr3_QCjUIk_g1nxFuTBE2ifq8WyetPuEVZKJN7vPjaGpLT2sCBUo34Y7sbDA1aw6TR98s3Omk6CVN24iNNJcKvowpmbfJTGY4Odv3U_gB72c9llDpy9XUDIN5IasI_eukfdqgeab_WeMB11eHLBjmkGo6xXg3SunXRDmkbMqeEhHSsAl3yNryN3sBRWfPqM1datRn_ZCJhztk7ILu-Jjta_Hqh5IxpE18lciiRI_Rg5cMajBP0Ejr4ZqYwK5rb81ZSN-dUtds9eeZBhr0ykPVdEAnkjSgYrLtg7CeLrZej0lfQnbirOrX18ih2qoo8BQMqxZQFeRjkDNkEK_2dgey9TLg4X6L5k-suFLWh9uZzL_vzk82bVBNU_s4Bz0HkETEzFZl54ODFAsP7yMpEov4fb9bzYK7EOTxukTMTx6xqFk0fMXdlZxqdNA_fZpe7u6OSgvQ1URVBNJHdaWlH0pXbDk94Iec6zMpvKSdZcamUi-T7dKZarKGwqTZJkSbD6ScI5xu-c7Y3SbrrCANCE4x_nBSzl]--></g></svg>