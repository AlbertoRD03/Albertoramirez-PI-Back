<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="658px" preserveAspectRatio="none" style="width:948px;height:658px;background:#FAFAFA;" version="1.1" viewBox="0 0 948 658" width="948px" zoomAndPan="magnify"><title>SD12 - Actualizaci&#243;n de progreso en reto (autom&#225;tica)</title><defs/><g><rect fill="#FAFAFA" height="658" style="stroke:none;stroke-width:1;" width="948" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="430.6299" x="260.3821" y="27.9951">SD12 - Actualizaci&#243;n de progreso en reto (autom&#225;tica)</text><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="459.3906" width="8" x="30.6021" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="34" x2="34" y1="118.5938" y2="577.9844"/></g><g><title>Frontend .React.</title><rect fill="#000000" fill-opacity="0.00000" height="459.3906" width="8" x="300.9609" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="304.666" x2="304.666" y1="118.5938" y2="577.9844"/></g><g><title>Backend API .Node.Express.</title><rect fill="#000000" fill-opacity="0.00000" height="459.3906" width="8" x="661.501" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="665.2192" x2="665.2192" y1="118.5938" y2="577.9844"/></g><g><title>MongoDB</title><rect fill="#000000" fill-opacity="0.00000" height="459.3906" width="8" x="906.7168" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="910.0396" x2="910.0396" y1="118.5938" y2="577.9844"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="115.292">Usuario</text><ellipse cx="34.6021" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,58.7969 L34.6021,85.7969 M21.6021,66.7969 L47.6021,66.7969 M34.6021,85.7969 L21.6021,100.7969 M34.6021,85.7969 L47.6021,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="5" y="589.9795">Usuario</text><ellipse cx="34.6021" cy="601.7813" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M34.6021,609.7813 L34.6021,636.7813 M21.6021,617.7813 L47.6021,617.7813 M34.6021,636.7813 L21.6021,651.7813 M34.6021,636.7813 L47.6021,651.7813" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="238.666" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="245.666" y="107.292">Frontend (React)</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="238.666" y="576.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="245.666" y="596.9795">Frontend (React)</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="559.2192" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="566.2192" y="107.292">Backend API (Node/Express)</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="559.2192" y="576.9844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="566.2192" y="596.9795">Backend API (Node/Express)</text></g><g class="participant participant-head" data-participant="MDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.3545" x="874.0396" y="115.292">MongoDB</text><path d="M892.7168,66.2969 C892.7168,56.2969 910.7168,56.2969 910.7168,56.2969 C910.7168,56.2969 928.7168,56.2969 928.7168,66.2969 L928.7168,92.2969 C928.7168,102.2969 910.7168,102.2969 910.7168,102.2969 C910.7168,102.2969 892.7168,102.2969 892.7168,92.2969 L892.7168,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M892.7168,66.2969 C892.7168,76.2969 910.7168,76.2969 910.7168,76.2969 C910.7168,76.2969 928.7168,76.2969 928.7168,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="MDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67.3545" x="874.0396" y="589.9795">MongoDB</text><path d="M892.7168,603.2813 C892.7168,593.2813 910.7168,593.2813 910.7168,593.2813 C910.7168,593.2813 928.7168,593.2813 928.7168,603.2813 L928.7168,629.2813 C928.7168,639.2813 910.7168,639.2813 910.7168,639.2813 C910.7168,639.2813 892.7168,639.2813 892.7168,629.2813 L892.7168,603.2813" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M892.7168,603.2813 C892.7168,613.2813 910.7168,613.2813 910.7168,613.2813 C910.7168,613.2813 928.7168,613.2813 928.7168,603.2813" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#FF7849" points="292.9609,145.7266,302.9609,149.7266,292.9609,153.7266,296.9609,149.7266" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="34.6021" x2="298.9609" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194.1113" x="41.6021" y="144.6606">Registra una sesi&#243;n (ver SD5)</text></g><g class="message" data-participant-1="FE" data-participant-2="API"><polygon fill="#FF7849" points="653.501,174.8594,663.501,178.8594,653.501,182.8594,657.501,178.8594" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="304.9609" x2="659.501" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.9194" x="311.9609" y="173.7935">POST /sesiones {sesion}</text></g><g class="message" data-participant-1="API" data-participant-2="MDB"><polygon fill="#FF7849" points="898.7168,203.9922,908.7168,207.9922,898.7168,211.9922,902.7168,207.9922" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="665.501" x2="904.7168" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.1787" x="672.501" y="202.9263">Insertar sesi&#243;n en Sesiones</text></g><g class="message" data-participant-1="MDB" data-participant-2="API"><polygon fill="#FF7849" points="676.501,233.125,666.501,237.125,676.501,241.125,672.501,237.125" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="670.501" x2="909.7168" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7573" x="682.501" y="232.0591">OK</text></g><g class="message" data-participant-1="API" data-participant-2="MDB"><polygon fill="#FF7849" points="898.7168,292.5234,908.7168,296.5234,898.7168,300.5234,902.7168,296.5234" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="665.501" x2="904.7168" y1="296.5234" y2="296.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.063" x="672.501" y="261.1919">Buscar retos activos</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.7544" x="672.501" y="276.3247">asociados a este usuario</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.0996" x="672.501" y="291.4575">(Progreso_Reto_Usuario + Retos)</text></g><g class="message" data-participant-1="MDB" data-participant-2="API"><polygon fill="#FF7849" points="676.501,321.6563,666.501,325.6563,676.501,329.6563,672.501,325.6563" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="670.501" x2="909.7168" y1="325.6563" y2="325.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.2158" x="682.501" y="320.5903">Lista de retos en los que participa</text></g><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="665.501" x2="707.501" y1="385.0547" y2="385.0547"/><line style="stroke:#FF7849;stroke-width:1;" x1="707.501" x2="707.501" y1="385.0547" y2="398.0547"/><line style="stroke:#FF7849;stroke-width:1;" x1="666.501" x2="707.501" y1="398.0547" y2="398.0547"/><polygon fill="#FF7849" points="676.501,394.0547,666.501,398.0547,676.501,402.0547,672.501,398.0547" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.4526" x="672.501" y="349.7231">Calcular cu&#225;nto aporta</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.4043" x="672.501" y="364.856">esta sesi&#243;n a cada reto</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.6968" x="672.501" y="379.9888">(ej: n&#186; de flexiones, km, etc.)</text></g><g class="message" data-participant-1="API" data-participant-2="MDB"><polygon fill="#FF7849" points="898.7168,438.3203,908.7168,442.3203,898.7168,446.3203,902.7168,442.3203" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="665.501" x2="904.7168" y1="442.3203" y2="442.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.7783" x="672.501" y="422.1216">Actualizar Progreso_Reto_Usuario</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.5195" x="672.501" y="437.2544">para cada reto</text></g><g class="message" data-participant-1="MDB" data-participant-2="API"><polygon fill="#FF7849" points="676.501,467.4531,666.501,471.4531,676.501,475.4531,672.501,471.4531" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="670.501" x2="909.7168" y1="471.4531" y2="471.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7573" x="682.501" y="466.3872">OK</text></g><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="315.9609,496.5859,305.9609,500.5859,315.9609,504.5859,311.9609,500.5859" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="309.9609" x2="664.501" y1="500.5859" y2="500.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336.54" x="321.9609" y="495.52">201 Created {sesion, progreso_retos_actualizado?}</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="45.6021,555.9844,35.6021,559.9844,45.6021,563.9844,41.6021,559.9844" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="39.6021" x2="303.9609" y1="559.9844" y2="559.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170.2949" x="51.6021" y="524.6528">Mostrar sesi&#243;n registrada;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246.3589" x="51.6021" y="539.7856">progreso de retos se ver&#225; actualizado</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237.0723" x="51.6021" y="554.9185">cuando consulte la secci&#243;n de Retos</text></g><!--SRC=[TLFBRXf14BpFLxJ81HI8OokH4o8buYbPWHX1k26Xzao39YmpP1ws5SiVmpVavcFuiVGix6AK60uiizNLNLKzGOUCOD8zlu06j6I8cEbVAFNkjm55i75swSXR80EEWeKgnc3NkstG4cj2-9Ks6tIuXXkKgwMpqQYEpQo3LmjCtsS8JpyZ6Kdm801Qpjcx0hcu_F3k8nyEz886sb3REaNknRV_TCe_ub48b84FfZwYqnRGmrHmRvvLRz04gFITDO6CWkgO65kh94o_TmfA_0dJ6br1zPjLTDQxtx09VW_dOw4mu0rwWihGcgNjjlCtmsvRY2aqFZDb4yQqr3uuX6YGjVlSqkejENRxVKtqUmd8P4qONK- -mrc2M4CU7lPFB2TDm23cRSALyUG2kfAA4vaSIWGZe57GNNyzhMn7BxaknUU1LUjRwsS6lPKQLJe2ye4WxbsRcUhe4Ffyp2NpmitNaFxwsccp0Ml4j2bxUXugunyE6afFosdoWWvcCcOyZuoxhU6DmerbNJEM4Ou-8KXKc9FoGFIZ2URFKsgpoEW-rro7rReE5EIRsedQSeST_5V7BD_68_qBtXr2l7Xx3Xr764WLkTJBIp7FDS-nwAZibyT3hjCc36rA_vYNE-o3mayyGt6lIkTucNWtTbjuHZSpCg9H5gGrFcOSKfOiakNrp1Fv2m00]--></g></svg>