<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="798px" preserveAspectRatio="none" style="width:1223px;height:798px;background:#FAFAFA;" version="1.1" viewBox="0 0 1223 798" width="1223px" zoomAndPan="magnify"><title>SD1 - Registro de usuario</title><defs/><g><rect fill="#FAFAFA" height="798" style="stroke:none;stroke-width:1;" width="1223" x="0" y="0"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="201.9473" x="511.5667" y="27.9951">SD1 - Registro de usuario</text><rect fill="none" height="264" style="stroke:#000000;stroke-width:1.5;" width="1206.0806" x="10" y="436.7891"/><g><title>Usuario</title><rect fill="#000000" fill-opacity="0.00000" height="599.1953" width="8" x="45.6021" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="49" x2="49" y1="118.5938" y2="717.7891"/></g><g><title>Frontend .React.</title><rect fill="#000000" fill-opacity="0.00000" height="599.1953" width="8" x="454.5811" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="458.2861" x2="458.2861" y1="118.5938" y2="717.7891"/></g><g><title>Backend API .Node.Express.</title><rect fill="#000000" fill-opacity="0.00000" height="599.1953" width="8" x="870.8091" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="874.5273" x2="874.5273" y1="118.5938" y2="717.7891"/></g><g><title>MySQL</title><rect fill="#000000" fill-opacity="0.00000" height="599.1953" width="8" x="1175.0454" y="118.5938"/><line style="stroke:#FF7849;stroke-width:0.5;stroke-dasharray:5,5;" x1="1179.0103" x2="1179.0103" y1="118.5938" y2="717.7891"/></g><g class="participant participant-head" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="20" y="115.292">Usuario</text><ellipse cx="49.6021" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.6021,58.7969 L49.6021,85.7969 M36.6021,66.7969 L62.6021,66.7969 M49.6021,85.7969 L36.6021,100.7969 M49.6021,85.7969 L62.6021,100.7969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="U"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53.2041" x="20" y="729.7842">Usuario</text><ellipse cx="49.6021" cy="741.5859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M49.6021,749.5859 L49.6021,776.5859 M36.6021,757.5859 L62.6021,757.5859 M49.6021,776.5859 L36.6021,791.5859 M49.6021,776.5859 L62.6021,791.5859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="392.2861" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="399.2861" y="107.292">Frontend (React)</text></g><g class="participant participant-tail" data-participant="FE"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="132.5898" x="392.2861" y="716.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.5898" x="399.2861" y="736.7842">Frontend (React)</text></g><g class="participant participant-head" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="768.5273" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="775.5273" y="107.292">Backend API (Node/Express)</text></g><g class="participant participant-tail" data-participant="API"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="212.5635" x="768.5273" y="716.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198.5635" x="775.5273" y="736.7842">Backend API (Node/Express)</text></g><g class="participant participant-head" data-participant="SQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.0703" x="1152.0103" y="115.292">MySQL</text><path d="M1161.0454,66.2969 C1161.0454,56.2969 1179.0454,56.2969 1179.0454,56.2969 C1179.0454,56.2969 1197.0454,56.2969 1197.0454,66.2969 L1197.0454,92.2969 C1197.0454,102.2969 1179.0454,102.2969 1179.0454,102.2969 C1179.0454,102.2969 1161.0454,102.2969 1161.0454,92.2969 L1161.0454,66.2969" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1161.0454,66.2969 C1161.0454,76.2969 1179.0454,76.2969 1179.0454,76.2969 C1179.0454,76.2969 1197.0454,76.2969 1197.0454,66.2969" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="SQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48.0703" x="1152.0103" y="729.7842">MySQL</text><path d="M1161.0454,743.0859 C1161.0454,733.0859 1179.0454,733.0859 1179.0454,733.0859 C1179.0454,733.0859 1197.0454,733.0859 1197.0454,743.0859 L1197.0454,769.0859 C1197.0454,779.0859 1179.0454,779.0859 1179.0454,779.0859 C1179.0454,779.0859 1161.0454,779.0859 1161.0454,769.0859 L1161.0454,743.0859" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1161.0454,743.0859 C1161.0454,753.0859 1179.0454,753.0859 1179.0454,753.0859 C1179.0454,753.0859 1197.0454,753.0859 1197.0454,743.0859" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#FF7849" points="446.5811,145.7266,456.5811,149.7266,446.5811,153.7266,450.5811,149.7266" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="49.6021" x2="452.5811" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162.2207" x="56.6021" y="144.6606">Abre pantalla de registro</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="60.6021,174.8594,50.6021,178.8594,60.6021,182.8594,56.6021,178.8594" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="54.6021" x2="457.5811" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384.979" x="66.6021" y="173.7935">Muestra formulario (nombre, email, contrase&#241;a, confirmar)</text></g><g class="message" data-participant-1="U" data-participant-2="FE"><polygon fill="#FF7849" points="446.5811,203.9922,456.5811,207.9922,446.5811,211.9922,450.5811,207.9922" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="49.6021" x2="452.5811" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271.2988" x="56.6021" y="202.9263">Rellena formulario y pulsa "Crear cuenta"</text></g><g class="message" data-participant-1="FE" data-participant-2="FE"><line style="stroke:#FF7849;stroke-width:1;" x1="458.5811" x2="500.5811" y1="237.125" y2="237.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="500.5811" x2="500.5811" y1="237.125" y2="250.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="459.5811" x2="500.5811" y1="250.125" y2="250.125"/><polygon fill="#FF7849" points="469.5811,246.125,459.5811,250.125,469.5811,254.125,465.5811,250.125" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154.0259" x="465.5811" y="232.0591">Validar datos en cliente</text></g><g class="message" data-participant-1="FE" data-participant-2="API"><polygon fill="#FF7849" points="862.8091,275.2578,872.8091,279.2578,862.8091,283.2578,866.8091,279.2578" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="458.5811" x2="868.8091" y1="279.2578" y2="279.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="312.5713" x="465.5811" y="274.1919">POST /auth/register {nombre, email, password}</text></g><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="874.8091" x2="916.8091" y1="308.3906" y2="308.3906"/><line style="stroke:#FF7849;stroke-width:1;" x1="916.8091" x2="916.8091" y1="308.3906" y2="321.3906"/><line style="stroke:#FF7849;stroke-width:1;" x1="875.8091" x2="916.8091" y1="321.3906" y2="321.3906"/><polygon fill="#FF7849" points="885.8091,317.3906,875.8091,321.3906,885.8091,325.3906,881.8091,321.3906" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.4736" x="881.8091" y="303.3247">Validar payload</text></g><g class="message" data-participant-1="API" data-participant-2="SQL"><polygon fill="#FF7849" points="1167.0454,346.5234,1177.0454,350.5234,1167.0454,354.5234,1171.0454,350.5234" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="874.8091" x2="1173.0454" y1="350.5234" y2="350.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.2363" x="881.8091" y="345.4575">SELECT * FROM Usuarios WHERE email = ?</text></g><g class="message" data-participant-1="SQL" data-participant-2="API"><polygon fill="#FF7849" points="885.8091,375.6563,875.8091,379.6563,885.8091,383.6563,881.8091,379.6563" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="879.8091" x2="1178.0454" y1="379.6563" y2="379.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.8589" x="891.8091" y="374.5903">Resultado (0 o 1 fila)</text></g><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="874.8091" x2="916.8091" y1="408.7891" y2="408.7891"/><line style="stroke:#FF7849;stroke-width:1;" x1="916.8091" x2="916.8091" y1="408.7891" y2="421.7891"/><line style="stroke:#FF7849;stroke-width:1;" x1="875.8091" x2="916.8091" y1="421.7891" y2="421.7891"/><polygon fill="#FF7849" points="885.8091,417.7891,875.8091,421.7891,885.8091,425.7891,881.8091,421.7891" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.7471" x="881.8091" y="403.7231">&#191;email ya existe?</text></g><path d="M10,436.7891 L74.4429,436.7891 L74.4429,443.9219 L64.4429,453.9219 L10,453.9219 L10,436.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="264" style="stroke:#000000;stroke-width:1.5;" width="1206.0806" x="10" y="436.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="449.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.8613" x="89.4429" y="448.9995">[Email ya registrado]</text><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="469.5811,471.0547,459.5811,475.0547,469.5811,479.0547,465.5811,475.0547" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="463.5811" x2="873.8091" y1="475.0547" y2="475.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8555" x="475.5811" y="469.9888">409 Conflict (email en uso)</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="60.6021,500.1875,50.6021,504.1875,60.6021,508.1875,56.6021,504.1875" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="54.6021" x2="457.5811" y1="504.1875" y2="504.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="276.1992" x="66.6021" y="499.1216">Mostrar error "El email ya est&#225; registrado"</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="10" x2="1216.0806" y1="513.1875" y2="513.1875"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="76.1245" x="15" y="523.3979">[Email libre]</text><g class="message" data-participant-1="API" data-participant-2="API"><line style="stroke:#FF7849;stroke-width:1;" x1="874.8091" x2="916.8091" y1="548.125" y2="548.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="916.8091" x2="916.8091" y1="548.125" y2="561.125"/><line style="stroke:#FF7849;stroke-width:1;" x1="875.8091" x2="916.8091" y1="561.125" y2="561.125"/><polygon fill="#FF7849" points="885.8091,557.125,875.8091,561.125,885.8091,565.125,881.8091,561.125" style="stroke:#FF7849;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186.9829" x="881.8091" y="543.0591">Hashear contrase&#241;a (bcrypt)</text></g><g class="message" data-participant-1="API" data-participant-2="SQL"><polygon fill="#FF7849" points="1167.0454,586.2578,1177.0454,590.2578,1167.0454,594.2578,1171.0454,590.2578" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="874.8091" x2="1173.0454" y1="590.2578" y2="590.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169.8442" x="881.8091" y="585.1919">INSERT INTO Usuarios (...)</text></g><g class="message" data-participant-1="SQL" data-participant-2="API"><polygon fill="#FF7849" points="885.8091,615.3906,875.8091,619.3906,885.8091,623.3906,881.8091,619.3906" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="879.8091" x2="1178.0454" y1="619.3906" y2="619.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7573" x="891.8091" y="614.3247">OK</text></g><g class="message" data-participant-1="API" data-participant-2="FE"><polygon fill="#FF7849" points="469.5811,644.5234,459.5811,648.5234,469.5811,652.5234,465.5811,648.5234" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;stroke-dasharray:2,2;" x1="463.5811" x2="873.8091" y1="648.5234" y2="648.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="392.228" x="475.5811" y="643.4575">201 Created (usuario creado, onboarding_pendiente = true)</text></g><g class="message" data-participant-1="FE" data-participant-2="U"><polygon fill="#FF7849" points="60.6021,688.7891,50.6021,692.7891,60.6021,696.7891,56.6021,692.7891" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="54.6021" x2="457.5811" y1="692.7891" y2="692.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.5645" x="66.6021" y="672.5903">Mostrar mensaje &#233;xito</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191.9531" x="66.6021" y="687.7231">y redirigir a pantalla de Login</text></g><!--SRC=[TLFRRjD047tVhnYPbmJrYf2WaQ0gmL4hqgRa0Yz8Q69FqgMRNJExLXjLV0oFFF85IFJ7cFL5QGhO3olFdZbdvimuw6089cyFOHV6jDG-i8ESeFGbidPA-Mjj2sHSmHopwoMxqkPzPnp3amN6zm72qzUIR4Pmfm1EcDrDYroyUFdyI893lQ2XjlJ6SKxytzk_bAf7VLCAio21MLqTe8UP4ksWCrsW3P0CsDb0DeVEc0JRJI9ca6w38d_4d5oUGUV2vRIVtXPCtjTm2QiS0yxH4oJdwydxOHMNKwaPxBuMmXwSp9aWyg4n62tZnZurI2DcreFpaYI0i72yAarLSSUwbIJk0ArGcnt8f5mMdVkVM7qiDA-GkmzqncGCsIsIDHIbyGX9dmaPCZ4zODBenfmFQ7GkDzA5yq0MCgC5Gmr46kp1vMWoXNqimzL-NJant3sgha3lRsHKOdpqgarjwGjS6uTvUoV-z62I3jF-59x2O3mwRmVbuUDfEavhMdW5nqgmiDloZScN9c0kzXo0WqDOQ8FTRStVl-haDGBTncgF5Pe0QHjit1UIk7iniV7Y-S4HzCLOexC0dPf472czwmfoCoiNinb8rfOXIGriz7ou__v0855aP3DgQQF5i5QogVKK_LKrcCrmeJFFU5s4xWPQsNLsCKd7KpcceurPdRszlGZSCcdqxb5ZpmuE8Iv08Ddsvd-5J0Avsm5dvmuvrtRvkP1LhwOlnWSkwPzjhyXw_49m_-DM1_V9hgNVNBDUQWRSMlEXMsghXFCF]--></g></svg>