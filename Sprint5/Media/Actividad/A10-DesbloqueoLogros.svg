<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="ACTIVITY" height="1206px" preserveAspectRatio="none" style="width:843px;height:1206px;background:#FFFFFF;" version="1.1" viewBox="0 0 843 1206" width="843px" zoomAndPan="magnify"><title>A10 - Desbloqueo autom&#225;tico de logros</title><defs/><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="311.4658" x="264.4868" y="32.9951">A10 - Desbloqueo autom&#225;tico de logros</text></g><ellipse cx="360.6672" cy="57.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"/><rect fill="none" height="260.0469" style="stroke:#000000;stroke-width:1.5;" width="381.4727" x="169.9309" y="77.2969"/><path d="M354.3088,77.2969 L354.3088,86.5938 L344.3088,96.5938 L169.9309,96.5938" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174.3779" x="172.9309" y="91.292">Backend (API / Servicios)</text><rect fill="#FAFAFA" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="270.2305" x="225.552" y="113.5938"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="236.209" x="235.552" y="134.7324">Se registra una nueva acci&#243;n relevante</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="250.2305" x="235.552" y="148.7012">(p.ej. sesi&#243;n de entrenamiento guardada)</text><rect fill="#FAFAFA" height="75.875" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="361.4727" x="179.9309" y="181.5313"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="279.0352" x="189.9309" y="202.6699">Obtener datos necesarios para evaluar logros:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="69.5215" x="197.5598" y="216.6387">- usuario_id</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41.3086" x="197.5598" y="230.6074">- fecha</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="333.8438" x="197.5598" y="244.5762">- m&#233;tricas de la sesi&#243;n\n  (ejercicios, volumen, PR, etc.)</text><rect fill="#FAFAFA" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="216.8867" x="252.2239" y="277.4063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="196.8867" x="262.2239" y="298.5449">Recuperar lista de logros activos</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="183.2988" x="262.2239" y="312.5137">desde la tabla Logros (MySQL)</text><rect fill="none" height="152.1094" style="stroke:#000000;stroke-width:1.5;" width="247.8789" x="236.7278" y="347.3438"/><path d="M437.2385,347.3438 L437.2385,356.6406 L427.2385,366.6406 L236.7278,366.6406" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5107" x="239.7278" y="361.3389">Backend (L&#243;gica de logros)</text><rect fill="#FAFAFA" height="103.8125" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="227.8789" x="246.7278" y="383.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="207.8789" x="256.7278" y="404.7793">Para cada logro, evaluar condici&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="81.1934" x="256.7278" y="418.748">seg&#250;n reglas:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159.1055" x="256.7278" y="432.7168">- n&#250;mero de d&#237;as seguidos</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="130.5176" x="256.7278" y="446.6855">- volumen acumulado</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="101.707" x="256.7278" y="460.6543">- marca personal</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="159.2637" x="256.7278" y="474.623">- n&#250;mero de sesiones, etc.</text><polygon fill="#FAFAFA" points="301.6873,519.4531,419.6472,519.4531,431.6472,532.2578,419.6472,545.0625,301.6873,545.0625,289.6873,532.2578,301.6873,519.4531" style="stroke:#FF7849;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="117.96" x="301.6873" y="529.6636">"&#191;Alg&#250;n logro cumple</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="76.7852" x="301.6873" y="542.4683">la condici&#243;n?"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.9585" x="274.7288" y="529.6636">No</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="10.0386" x="431.6472" y="529.6636">S&#237;</text><rect fill="none" height="90.2656" style="stroke:#000000;stroke-width:1.5;" width="267.5078" x="11" y="555.0625"/><path d="M211.5107,555.0625 L211.5107,564.3594 L201.5107,574.3594 L11,574.3594" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5107" x="14" y="569.0576">Backend (L&#243;gica de logros)</text><rect fill="#FAFAFA" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="247.5078" x="21" y="591.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="227.5078" x="31" y="612.498">No se desbloquea ning&#250;n logro nuevo</text><rect fill="none" height="102.2656" style="stroke:#000000;stroke-width:1.5;" width="248.5352" x="452.313" y="555.0625"/><path d="M652.8237,555.0625 L652.8237,564.3594 L642.8237,574.3594 L452.313,574.3594" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5107" x="455.313" y="569.0576">Backend (L&#243;gica de logros)</text><rect fill="#FAFAFA" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="228.5352" x="462.313" y="591.3594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="208.5352" x="472.313" y="612.498">Construir lista de logros cumplidos</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="164.7422" x="472.313" y="626.4668">que el usuario a&#250;n no tiene</text><polygon fill="#FAFAFA" points="533.2869,677.3281,619.8743,677.3281,631.8743,690.1328,619.8743,702.9375,533.2869,702.9375,521.2869,690.1328,533.2869,677.3281" style="stroke:#FF7849;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="69.459" x="533.2869" y="687.5386">"&#191;Lista vac&#237;a</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83.0908" x="533.2869" y="700.3433">(ya los ten&#237;a)?"</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="10.0386" x="511.2483" y="687.5386">S&#237;</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="14.9585" x="631.8743" y="687.5386">No</text><rect fill="none" height="90.2656" style="stroke:#000000;stroke-width:1.5;" width="264.1797" x="308.5078" y="712.9375"/><path d="M509.0186,712.9375 L509.0186,722.2344 L499.0186,732.2344 L308.5078,732.2344" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5107" x="311.5078" y="726.9326">Backend (L&#243;gica de logros)</text><rect fill="#FAFAFA" height="33.9688" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="244.1797" x="318.5078" y="749.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="224.1797" x="328.5078" y="770.373">No se crea ninguna nueva asociaci&#243;n</text><rect fill="none" height="178.1406" style="stroke:#000000;stroke-width:1.5;" width="239.752" x="592.6875" y="712.9375"/><path d="M793.1982,712.9375 L793.1982,722.2344 L783.1982,732.2344 L592.6875,732.2344" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190.5107" x="595.6875" y="726.9326">Backend (L&#243;gica de logros)</text><rect fill="#FAFAFA" height="61.9063" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="212.4336" x="606.3467" y="749.2344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="189.0234" x="616.3467" y="770.373">Insertar en tabla Usuario_Logro</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="192.4336" x="616.3467" y="784.3418">cada nuevo logro desbloqueado</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="166.6816" x="616.3467" y="798.3105">(usuario_id, logro_id, fecha)</text><rect fill="#FAFAFA" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="219.752" x="602.6875" y="831.1406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199.752" x="612.6875" y="852.2793">Opcional: generar evento interno</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="114.082" x="612.6875" y="866.248">para notificaciones</text><polygon fill="#FAFAFA" points="576.5806,897.0781,588.5806,909.0781,576.5806,921.0781,564.5806,909.0781,576.5806,897.0781" style="stroke:#FF7849;stroke-width:0.5;"/><polygon fill="#FAFAFA" points="360.6672,927.0781,372.6672,939.0781,360.6672,951.0781,348.6672,939.0781,360.6672,927.0781" style="stroke:#FF7849;stroke-width:0.5;"/><rect fill="none" height="192.1094" style="stroke:#000000;stroke-width:1.5;" width="270.1914" x="225.5715" y="961.0781"/><path d="M420.4426,961.0781 L420.4426,970.375 L410.4426,980.375 L225.5715,980.375" fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.8711" x="228.5715" y="975.0732">Backend (API / Respuesta)</text><rect fill="#FAFAFA" height="75.875" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="250.1914" x="235.5715" y="997.375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="230.1914" x="245.5715" y="1018.5137">Incluir en la respuesta de la operaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="205.6055" x="245.5715" y="1032.4824">(p.ej. POST /sesiones) informaci&#243;n</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="209.7422" x="245.5715" y="1046.4512">sobre logros reci&#233;n desbloqueados</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100.8984" x="245.5715" y="1060.4199">(si se decide as&#237;)</text><rect fill="#FAFAFA" height="47.9375" rx="12.5" ry="12.5" style="stroke:#FF7849;stroke-width:0.5;" width="236.7031" x="242.3157" y="1093.25"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="216.7031" x="252.3157" y="1114.3887">Continuar flujo normal de respuesta</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="104.6836" x="252.3157" y="1128.3574">hacia el Frontend</text><ellipse cx="360.6672" cy="1184.1875" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"/><ellipse cx="360.6672" cy="1184.1875" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="161.5313" y2="181.5313"/><polygon fill="#FF7849" points="356.6672,171.5313,360.6672,181.5313,364.6672,171.5313,360.6672,175.5313" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="257.4063" y2="277.4063"/><polygon fill="#FF7849" points="356.6672,267.4063,360.6672,277.4063,364.6672,267.4063,360.6672,271.4063" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="67.2969" y2="113.5938"/><polygon fill="#FF7849" points="356.6672,103.5938,360.6672,113.5938,364.6672,103.5938,360.6672,107.5938" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="325.3438" y2="383.6406"/><polygon fill="#FF7849" points="356.6672,373.6406,360.6672,383.6406,364.6672,373.6406,360.6672,377.6406" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="712.5635" x2="712.5635" y1="811.1406" y2="831.1406"/><polygon fill="#FF7849" points="708.5635,821.1406,712.5635,831.1406,716.5635,821.1406,712.5635,825.1406" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="521.2869" x2="440.5977" y1="690.1328" y2="690.1328"/><line style="stroke:#FF7849;stroke-width:1;" x1="440.5977" x2="440.5977" y1="690.1328" y2="749.2344"/><polygon fill="#FF7849" points="436.5977,739.2344,440.5977,749.2344,444.5977,739.2344,440.5977,743.2344" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="631.8743" x2="712.5635" y1="690.1328" y2="690.1328"/><line style="stroke:#FF7849;stroke-width:1;" x1="712.5635" x2="712.5635" y1="690.1328" y2="749.2344"/><polygon fill="#FF7849" points="708.5635,739.2344,712.5635,749.2344,716.5635,739.2344,712.5635,743.2344" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="440.5977" x2="440.5977" y1="783.2031" y2="909.0781"/><line style="stroke:#FF7849;stroke-width:1;" x1="440.5977" x2="564.5806" y1="909.0781" y2="909.0781"/><polygon fill="#FF7849" points="554.5806,905.0781,564.5806,909.0781,554.5806,913.0781,558.5806,909.0781" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="712.5635" x2="712.5635" y1="879.0781" y2="909.0781"/><line style="stroke:#FF7849;stroke-width:1;" x1="712.5635" x2="588.5806" y1="909.0781" y2="909.0781"/><polygon fill="#FF7849" points="598.5806,905.0781,588.5806,909.0781,598.5806,913.0781,594.5806,909.0781" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="576.5806" x2="576.5806" y1="639.2969" y2="677.3281"/><polygon fill="#FF7849" points="572.5806,667.3281,576.5806,677.3281,580.5806,667.3281,576.5806,671.3281" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="289.6873" x2="144.7539" y1="532.2578" y2="532.2578"/><line style="stroke:#FF7849;stroke-width:1;" x1="144.7539" x2="144.7539" y1="532.2578" y2="591.3594"/><polygon fill="#FF7849" points="140.7539,581.3594,144.7539,591.3594,148.7539,581.3594,144.7539,585.3594" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="431.6472" x2="576.5806" y1="532.2578" y2="532.2578"/><line style="stroke:#FF7849;stroke-width:1;" x1="576.5806" x2="576.5806" y1="532.2578" y2="591.3594"/><polygon fill="#FF7849" points="572.5806,581.3594,576.5806,591.3594,580.5806,581.3594,576.5806,585.3594" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="144.7539" x2="144.7539" y1="625.3281" y2="939.0781"/><line style="stroke:#FF7849;stroke-width:1;" x1="144.7539" x2="348.6672" y1="939.0781" y2="939.0781"/><polygon fill="#FF7849" points="338.6672,935.0781,348.6672,939.0781,338.6672,943.0781,342.6672,939.0781" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="576.5806" x2="576.5806" y1="921.0781" y2="939.0781"/><line style="stroke:#FF7849;stroke-width:1;" x1="576.5806" x2="372.6672" y1="939.0781" y2="939.0781"/><polygon fill="#FF7849" points="382.6672,935.0781,372.6672,939.0781,382.6672,943.0781,378.6672,939.0781" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="487.4531" y2="519.4531"/><polygon fill="#FF7849" points="356.6672,509.4531,360.6672,519.4531,364.6672,509.4531,360.6672,513.4531" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="1073.25" y2="1093.25"/><polygon fill="#FF7849" points="356.6672,1083.25,360.6672,1093.25,364.6672,1083.25,360.6672,1087.25" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="951.0781" y2="997.375"/><polygon fill="#FF7849" points="356.6672,987.375,360.6672,997.375,364.6672,987.375,360.6672,991.375" style="stroke:#FF7849;stroke-width:1;"/><line style="stroke:#FF7849;stroke-width:1;" x1="360.6672" x2="360.6672" y1="1141.1875" y2="1173.1875"/><polygon fill="#FF7849" points="356.6672,1163.1875,360.6672,1173.1875,364.6672,1163.1875,360.6672,1167.1875" style="stroke:#FF7849;stroke-width:1;"/><!--SRC=[dLJ1RXCn4BtdAqRXif7I5YGa83cWK8HKARIXWLiav7XdKxTUEzZUe0hbOpZsq5DllI2H7-FPkvkaW92e8grsxSdCUs_UJ511CusUFQK3Uij-hksNYYs9AjXoypqeQIbdqdRXhEzq_9KoI-54IK86jLBXchvrYDu8UOM0okJ7Lbj7JmeHV_76kfnTUrgyUFdy5Kv7pjcl3m_NI1w42vqEyWSLb3NKZNdPv9ID9YTqH5DsAoMLzRrkAZkOCZbUA1-SeCe8CXMl1A19jRapkDBuD85d9biUykKXUVRf1epO1CT6b0elbXQLSBd8HMyOqvxD0njsb8jWFHcMx8L3MOhK2JarmXjD1lW3GRlALp7ciygRWuBbXMZUoyrDS4eAdxGKBOwP8ShuafrChFgqihegsVHfSjud3lAmndFEibgoYpN1LUmQKdV1-fd9sTUfWvZZEQwli_VNqmzZ95d_NTRnvcu1MBk4hR2JI5H2aFgyloKjhScLhC5xNcpkeymBBVnWPWx8REvBTian-UOMT15IgJm2F6Z90NDLLbhaDXwMmg4-o7bhXFujHvJ96lQr5ec5AYZh_lmnqgbq0aV8jzHeCdZluBtkKe_21UfbfxO7Jl_37mgSMfJ7HJCHy9OoUpMZqsniphh36e7PT7FxY2h7ri2ybVgpiubKBHtA4-lMOIGY2cCfmBfSGy2Z4MQSqgo4XFom_NLie2VO6T-zFKqQkFyBU2kCT8qaUsFdhLGYYJzCmMiyQt7g3ZoYs0bCvh0MCAwDipyrSvOSFZF9ewaPJMDs7Oi6otPZsQy3qbkQpTwmhNAsnFZ1VWDQnBcFvLPfBIWi3sUG9ms-iK4LW2gJAVSumdD5ftx-OtkTirzMZFQqGtPYf8wj1pSGS-rrioDidFXcqfhrDJcRVgIZTYfwW5TOLxP1tixTrZwESNfZ7iW1AsLUrRQM2bM4XmlIXe4FWp9nm0jTNSBUCQ-EIBQmPkO2bKHquZk7S30RrblRBdy1]--></g></svg>